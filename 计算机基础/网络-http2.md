## http2 学习总结

time: 2021-08-13 10:33:00  
author: heyunjiang

## 背景

最近项目上遇到一个问题，后端小伙伴设计了一个功能，要实现一个长时间的接口同步服务，解释来说是前端发起一个请求，后端收到请求后，会执行一个耗时较长的任务，可能会半个小时，然后才返回 response。
当然，业务设计是不太合理，最终也将同步任务换到了异步任务。  
这里先不论业务不合理问题，先看看前端直接上会有什么问题。

问题描述：前端发起一个 http post 请求，一直处于 pending 状态，等到5分钟或10几分钟(多次测试，每次不同)之后，会返回一些错误信息。这些错误信息是后端返回的，因为服务器收到了2个请求，后端没有做幂等性处理，第二次就会返回错误，提示已经在处理了，那么前端就会出现错误

问题分析：为什么会发2次呢？项目中使用的是 http2，这里做一个 http2 的学习总结

目标：  
1. 了解 http2 的特性
2. 学习 tls 加密流程
3. 了解 http2 长链接有效时间
4. 学习常用抓包工具的用法

## 1 http2 特性

## 参考文章

[phpcli http 与抓包](http://www.phpcli.net/docs/network/network-1cvs9mb7u75na)

token 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
