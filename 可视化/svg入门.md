# svg 入门

time: 2019.8.6  
author: heyunjiang

> 暂时先不总结了，svg 在需要使用时再来深入总结，之前用到的也是普通功能，没有做炫酷动画。不浪费时间，我去学习更有趣的去了

## 1 背景介绍

一直有想要学习 svg 的欲望，毕竟同 canvas 一样，作为 html 的2大绘图神器，不同于 canvas 的画图绘图，svg 绘制的是矢量图，在 dom tree 中也是一个一个的节点，svg 节点拥有独特的属性。

最近项目做了一个甘特图，也就是在一个网格中，绘制一些条形图，外加一些日期、文字搭配，使用到了 svg 的一些基本知识点，采用的是 `frappe/gantt` 这个项目来扩展。

距离实现已经过去了一段时间，怕忘记了 svg 的能力，所以来做一个回顾总结

## 2 svg 基本知识总结

html 提供了定义标题、段落、表格等等内容的元素，svg 提供了绘制形状的元素：圆形、矩形、简单和复杂的曲线、其他形状。  
另外，svg 支持渐变、旋转、滤镜等效果。

### 2.1 svg 基本元素

1. 坐标系：采用基本坐标系 + 像素，也就是说一个 svg 图大小是固定的，设置的是具体像素值高宽
2. rect: 矩形
3. circle、ellipse: 圆形、椭圆
4. line: 直线
5. polyline: 自定义绘制线段组合
6. polygon: 多边形
6. path: 自定义路线，不限制直线、曲线

### 2.2 svg 基本属性

1. x, y: 元素距离坐标系左上角位置的初始偏移量
2. width, height: 元素的高宽
3. rx, ry: 圆的中心点位置
4. r: 圆 circle 的半径
5. d

## 3 使用 svg 的注意事项

1. gzip 压缩：要求服务器能正确 gzip 压缩 svg，因为有的服务器压缩的 `.svgz` 文件，有的客户端代理不能正确解释
2. 元素优先级：越是后面的节点优先级越高，可以覆盖前面的元素
3. 嵌入方式：html, xhtml, html5, object 元素, iframe, img 元素, javascript 动态注入
4. http content-type: image/svg+xml
5. 虽说一定要在根元素 svg 上加入 version, baseProfile 属性，但是在 html5 中，不加也是可以的

## 参考文章

1. mdn svg